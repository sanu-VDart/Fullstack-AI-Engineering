(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5728:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2791)}])},2791:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var i=n(5893),a=n(6465),s=n.n(a),r=n(7294);let d="http://localhost:8000";async function l(){let e=await fetch("".concat(d,"/health"));if(!e.ok)throw Error("Health check failed");return e.json()}async function o(){let e=await fetch("".concat(d,"/engines"));if(!e.ok)throw Error("Failed to fetch engines");return e.json()}async function c(e){let t=await fetch("".concat(d,"/predict"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({unit_id:e})});if(!t.ok){let e=await t.json();throw Error(e.detail||"Prediction failed")}return t.json()}async function x(e){let t=await fetch("".concat(d,"/maintenance"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({unit_id:e})});if(!t.ok){let e=await t.json();throw Error(e.detail||"Failed to get recommendations")}return t.json()}async function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=await fetch("".concat(d,"/chat"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,conversation_id:t})});if(!n.ok){let e=await n.json();throw Error(e.detail||"Chat request failed")}return n.json()}let f=e=>{let{healthStatus:t}=e;return(0,i.jsxs)("div",{style:{background:"rgba(5, 10, 20, 0.95)",borderBottom:"2px solid #00f3ff",padding:"15px 30px",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 0 30px rgba(0, 243, 255, 0.2)"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[(0,i.jsx)("div",{style:{width:"50px",height:"50px",border:"2px solid var(--neon-cyan)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 0 15px var(--neon-cyan)",background:"rgba(0, 243, 255, 0.1)"},children:(0,i.jsx)("span",{style:{color:"var(--neon-cyan)",fontSize:"1.8rem"},children:"⚛"})}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("h1",{className:"text-cyan",style:{fontSize:"2rem",margin:0,letterSpacing:"3px"},children:["AERO-SENSE ",(0,i.jsx)("span",{style:{color:"#fff",fontSize:"1rem"},children:"DIAGNOSTICS"})]}),(0,i.jsxs)("div",{style:{fontFamily:"Rajdhani",fontSize:"0.9rem",color:"#aaa",letterSpacing:"1px"},children:["SYSTEM STATUS: ",(null==t?void 0:t.status)==="healthy"?(0,i.jsx)("span",{className:"text-green",children:"● ONLINE"}):(null==t?void 0:t.status)==="degraded"?(0,i.jsx)("span",{className:"text-orange",children:"● DEGRADED"}):(0,i.jsx)("span",{className:"text-red",children:"● OFFLINE"})," // V.",(null==t?void 0:t.version)||"1.0.0"]})]})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:"30px"},children:[(0,i.jsxs)("div",{style:{textAlign:"right"},children:[(0,i.jsx)("div",{style:{fontSize:"0.7rem",color:"#888"},children:"DATASET"}),(0,i.jsx)("div",{className:"text-cyan",children:(null==t?void 0:t.dataset)||"FD001"})]}),(0,i.jsxs)("div",{style:{textAlign:"right"},children:[(0,i.jsx)("div",{style:{fontSize:"0.7rem",color:"#888"},children:"MODELS"}),(0,i.jsx)("div",{className:(null==t?void 0:t.models_loaded)?"text-green":"text-red",style:{fontWeight:"bold"},children:(null==t?void 0:t.models_loaded)?"LOADED":"NOT LOADED"})]})]})]})},m=e=>{let{label:t,value:n,unit:a,status:s="nominal",description:r}=e,d="danger"===s?"text-red":"warning"===s?"text-orange":"text-cyan";return(0,i.jsxs)("div",{className:"metric-card shadow-cyan",style:{padding:"12px 15px",borderRadius:"10px",borderLeft:"danger"===s?"4px solid #ff003c":"warning"===s?"4px solid #ffaa00":"4px solid #00f3ff",background:"rgba(0, 243, 255, 0.05)",position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"100px"},title:r,children:[(0,i.jsx)("div",{style:{position:"absolute",top:5,right:5,padding:"5px",opacity:.1,fontSize:"2rem",color:"#fff"},children:"danger"===s?"⚠":"warning"===s?"⚡":"∿"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{style:{color:"var(--neon-cyan)",fontSize:"0.7rem",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"2px",fontWeight:"bold"},children:t}),(0,i.jsx)("div",{style:{fontSize:"0.6rem",color:"rgba(255,255,255,0.4)",marginBottom:"5px",fontStyle:"italic"},children:r})]}),(0,i.jsxs)("div",{style:{color:"#fff",fontSize:"1.8rem",fontFamily:"Orbitron",lineHeight:1.2},children:[n," ",(0,i.jsx)("span",{style:{fontSize:"0.8rem",verticalAlign:"middle"},className:d,children:a})]}),(0,i.jsx)("div",{className:d,style:{fontSize:"0.65rem",marginTop:"5px",fontWeight:"bold",textTransform:"uppercase"},children:s})]})},g=e=>{var t,n,a;let{prediction:s}=e;return s?(0,i.jsxs)("div",{className:"glow-box",style:{padding:"20px",borderRadius:"10px",borderLeft:(n=s.predicted_rul)<=50?"3px solid #ff003c":n<=125?"3px solid #ffaa00":"3px solid #0aff00",marginBottom:"15px"},children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,i.jsxs)("h3",{className:"text-cyan",style:{margin:0},children:["ENGINE UNIT #",s.unit_id]}),(0,i.jsx)("span",{className:"critical"===(a=s.state)?"text-red":"degrading"===a?"text-orange":"text-green",style:{padding:"5px 15px",border:"1px solid currentColor",borderRadius:"4px",fontFamily:"Orbitron",fontSize:"0.8rem"},children:null===(t=s.state)||void 0===t?void 0:t.toUpperCase()})]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{style:{color:"#888",fontSize:"0.7rem",marginBottom:"5px"},children:"PREDICTED RUL"}),(0,i.jsxs)("div",{style:{fontSize:"2.5rem",fontFamily:"Orbitron",color:"#fff"},children:[Math.round(s.predicted_rul),(0,i.jsx)("span",{style:{fontSize:"1rem",color:"#888"},children:" cycles"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{style:{color:"#888",fontSize:"0.7rem",marginBottom:"5px"},children:"CONFIDENCE"}),(0,i.jsx)("div",{className:"high"===s.confidence?"text-green":"medium"===s.confidence?"text-orange":"text-red",style:{fontSize:"1.2rem",fontFamily:"Orbitron",textTransform:"uppercase"},children:s.confidence})]})]}),(0,i.jsxs)("div",{style:{marginTop:"15px",paddingTop:"15px",borderTop:"1px solid rgba(255,255,255,0.1)"},children:[(0,i.jsx)("div",{style:{color:"#888",fontSize:"0.7rem",marginBottom:"8px"},children:"STATE PROBABILITIES"}),(0,i.jsx)("div",{style:{display:"flex",gap:"15px"},children:Object.entries(s.state_probabilities||{}).map(e=>{let[t,n]=e;return(0,i.jsxs)("div",{style:{flex:1,textAlign:"center"},children:[(0,i.jsx)("div",{style:{fontSize:"0.7rem",color:"#666",textTransform:"uppercase"},children:t}),(0,i.jsx)("div",{style:{height:"4px",background:"rgba(255,255,255,0.1)",borderRadius:"2px",marginTop:"4px",overflow:"hidden"},children:(0,i.jsx)("div",{style:{width:"".concat(100*n,"%"),height:"100%",background:"critical"===t?"#ff003c":"degrading"===t?"#ffaa00":"#0aff00",transition:"width 0.5s"}})}),(0,i.jsxs)("div",{style:{fontSize:"0.8rem",color:"#fff",marginTop:"2px"},children:[(100*n).toFixed(1),"%"]})]},t)})})]})]}):null},u=e=>{let{answer:t,loading:n,prediction:a}=e;return n?(0,i.jsxs)("div",{style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,i.jsx)("div",{style:{width:"80px",height:"80px",border:"4px solid transparent",borderTop:"4px solid var(--neon-cyan)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),(0,i.jsx)("div",{className:"text-cyan",style:{marginTop:"20px",letterSpacing:"2px",fontFamily:"Orbitron"},children:"RUNNING DIAGNOSTICS..."})]}):t||a?(0,i.jsxs)("div",{className:"glow-box",style:{position:"absolute",top:0,left:0,right:0,bottom:0,padding:"0",display:"flex",flexDirection:"column",overflow:"hidden",borderRadius:"10px"},children:[(0,i.jsxs)("div",{style:{background:"rgba(0,0,0,0.5)",padding:"15px",borderBottom:"1px solid rgba(0,243,255,0.2)",display:"flex",justifyContent:"space-between"},children:[(0,i.jsx)("div",{className:"text-cyan",style:{fontFamily:"Orbitron"},children:"DIAGNOSTIC REPORT"}),(0,i.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[a&&(0,i.jsx)("span",{className:"text-green",children:"✓ PREDICTION COMPLETE"}),t&&(0,i.jsx)("span",{className:"text-cyan",children:"✓ AI RESPONSE"})]})]}),(0,i.jsxs)("div",{style:{padding:"20px",fontFamily:"monospace",color:"#e0e0e0",lineHeight:"1.8",overflowY:"auto",flex:1,fontSize:"1rem"},children:[a&&(0,i.jsx)(g,{prediction:a}),t&&(0,i.jsx)("div",{style:{whiteSpace:"pre-wrap",marginTop:a?"20px":0},children:t})]}),(0,i.jsxs)("div",{style:{padding:"10px",background:"rgba(0,0,0,0.8)",color:"#666",fontSize:"0.8rem",textAlign:"right",borderTop:"1px solid #333"},children:["END OF REPORT // ",(0,i.jsx)("span",{className:"text-cyan",children:"CONFIDENTIAL"})]})]}):(0,i.jsxs)("div",{style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",opacity:.5,flexDirection:"column",background:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(0,243,255,0.05) 10px, rgba(0,243,255,0.05) 20px)"},children:[(0,i.jsx)("div",{style:{fontSize:"4rem",color:"var(--neon-cyan)",marginBottom:"20px",textShadow:"0 0 20px var(--neon-cyan)"},children:"⚡"}),(0,i.jsx)("div",{style:{fontFamily:"Orbitron",letterSpacing:"2px",color:"#fff"},children:"SYSTEM READY"}),(0,i.jsxs)("div",{style:{color:"#888",marginTop:"10px",textAlign:"center"},children:["Select an engine unit and run prediction",(0,i.jsx)("br",{}),"or use the command console for queries"]})]})};function y(){var e;let[t,n]=(0,r.useState)(null),[a,d]=(0,r.useState)([]),[g,y]=(0,r.useState)(""),[h,j]=(0,r.useState)(null),[v,b]=(0,r.useState)(""),[N,S]=(0,r.useState)(""),[E,w]=(0,r.useState)(null),[T,I]=(0,r.useState)(null),[C,k]=(0,r.useState)(!1),[O,R]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=async()=>{try{let e=await l();n(e)}catch(e){n({status:"offline",models_loaded:!1})}};e();let t=setInterval(e,3e4);return()=>clearInterval(t)},[]),(0,r.useEffect)(()=>{let e=async()=>{if(null==t?void 0:t.models_loaded)try{let e=await o();d(e.engines||[])}catch(e){console.error("Failed to load engines:",e)}};e()},[null==t?void 0:t.models_loaded]);let D=async()=>{if(!g)return alert("Please select an engine unit");R(!0),w(null),I(null);try{let[e,t]=await Promise.all([c(parseInt(g)),x(parseInt(g))]);w(e),I(t)}catch(e){alert("Prediction failed: ".concat(e.message))}R(!1)},_=async e=>{if(e.preventDefault(),v.trim()){if(!(null==t?void 0:t.models_loaded))return alert("ERROR: MODELS NOT LOADED");k(!0),S("");try{let e=await p(v,h);S(e.response),j(e.conversation_id)}catch(e){S(">> CRITICAL FAILURE: ".concat(e.message))}k(!1),b("")}},z=()=>{if(!E)return{value:"--",status:"nominal"};let e=E.predicted_rul;return{value:Math.round(e),status:e<=50?"danger":e<=125?"warning":"nominal"}},A=()=>{if(!E)return{value:"--",status:"nominal"};let e=E.state;return{value:(null==e?void 0:e.charAt(0).toUpperCase())+(null==e?void 0:e.slice(1)),status:"critical"===e?"danger":"degrading"===e?"warning":"nominal"}};return(0,i.jsxs)("div",{style:{height:"100vh",display:"flex",flexDirection:"column",overflow:"hidden",background:"#0f172a"},className:"jsx-339977c73dded91d",children:[(0,i.jsx)(f,{healthStatus:t}),(0,i.jsxs)("div",{style:{flex:1,display:"flex",padding:"30px",gap:"30px",overflow:"hidden"},className:"jsx-339977c73dded91d",children:[(0,i.jsxs)("div",{style:{width:"380px",display:"flex",flexDirection:"column",gap:"18px",padding:"18px",borderRadius:"10px"},className:"jsx-339977c73dded91d glow-box",children:[(0,i.jsx)("h3",{style:{borderBottom:"1px solid rgba(0,243,255,0.3)",paddingBottom:"10px",margin:0},className:"jsx-339977c73dded91d text-cyan",children:"CONTROL PANEL"}),(0,i.jsxs)("div",{className:"jsx-339977c73dded91d",children:[(0,i.jsx)("label",{style:{display:"block",fontSize:"0.7rem",color:"#aaa",marginBottom:"8px",letterSpacing:"1px"},className:"jsx-339977c73dded91d",children:"SELECT ENGINE UNIT"}),(0,i.jsxs)("select",{value:g,onChange:e=>y(e.target.value),style:{background:"rgba(0,0,0,0.5)",color:"#fff",padding:"12px",width:"100%",fontFamily:"monospace",borderRadius:"4px",outline:"none",cursor:"pointer"},className:"jsx-339977c73dded91d border-cyan",children:[(0,i.jsx)("option",{value:"",className:"jsx-339977c73dded91d",children:"-- Select Unit --"}),a.map(e=>(0,i.jsxs)("option",{value:e.unit_id,className:"jsx-339977c73dded91d",children:["Unit #",e.unit_id," (Cycle: ",e.max_cycle,")"]},e.unit_id))]})]}),(0,i.jsx)("button",{onClick:D,disabled:!g||O||!(null==t?void 0:t.models_loaded),style:{width:"100%",padding:"18px",fontSize:"1rem",fontWeight:"bold",letterSpacing:"2px",background:"rgba(0, 243, 255, 0.1)",border:"2px solid var(--neon-cyan)",borderRadius:"8px",opacity:g&&(null==t?void 0:t.models_loaded)?1:.3,transition:"all 0.3s"},className:"jsx-339977c73dded91d system-btn shadow-cyan",children:O?"⚡ ANALYZING SENSORS...":"PREDICT RUL"}),T&&(0,i.jsxs)("div",{style:{padding:"15px",borderRadius:"8px",background:"CRITICAL"===T.urgency?"rgba(255,0,60,0.2)":"MEDIUM"===T.urgency?"rgba(255,170,0,0.2)":"rgba(10,255,0,0.2)",border:"1px solid ".concat("CRITICAL"===T.urgency?"#ff003c":"MEDIUM"===T.urgency?"#ffaa00":"#0aff00")},className:"jsx-339977c73dded91d",children:[(0,i.jsxs)("div",{style:{fontSize:"0.7rem",color:"#888",marginBottom:"8px",display:"flex",justifyContent:"space-between"},className:"jsx-339977c73dded91d",children:[(0,i.jsx)("span",{className:"jsx-339977c73dded91d",children:"MAINTENANCE ALERT"}),(0,i.jsx)("span",{className:"jsx-339977c73dded91d "+(("CRITICAL"===T.urgency?"text-red":"MEDIUM"===T.urgency?"text-orange":"text-green")||""),children:T.urgency})]}),(0,i.jsx)("div",{style:{fontSize:"0.85rem",color:"#fff",lineHeight:"1.5"},className:"jsx-339977c73dded91d",children:T.recommendations}),T.next_inspection_cycles>0&&(0,i.jsxs)("div",{style:{marginTop:"10px",fontSize:"0.75rem",color:"#888"},className:"jsx-339977c73dded91d",children:["Next inspection in: ",(0,i.jsxs)("span",{className:"jsx-339977c73dded91d text-cyan",children:[T.next_inspection_cycles," cycles"]})]})]}),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"15px",marginTop:"5px"},className:"jsx-339977c73dded91d",children:[(0,i.jsx)("h3",{style:{borderBottom:"1px solid rgba(0,243,255,0.3)",paddingBottom:"10px",margin:0,fontSize:"0.9rem",letterSpacing:"1.5px"},className:"jsx-339977c73dded91d text-cyan",children:"PREDICTION METRICS"}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},className:"jsx-339977c73dded91d",children:[(0,i.jsx)(m,{label:"PREDICTED RUL",value:z().value,unit:"cycles",status:z().status,description:"Remaining Useful Life"}),(0,i.jsx)(m,{label:"ENGINE STATE",value:A().value,unit:"",status:A().status,description:"Current Health Status"}),(0,i.jsx)(m,{label:"CONFIDENCE",value:(null==E?void 0:null===(e=E.confidence)||void 0===e?void 0:e.toUpperCase())||"--",unit:"",status:(null==E?void 0:E.confidence)==="high"?"nominal":(null==E?void 0:E.confidence)==="low"?"danger":"warning",description:"Reliability"}),(0,i.jsx)(m,{label:"UNIT ID",value:g||"--",unit:"",status:"nominal",description:"Unit"})]})]})]}),(0,i.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"20px",minHeight:0},className:"jsx-339977c73dded91d",children:[(0,i.jsx)("div",{style:{flex:1,position:"relative",minHeight:0},className:"jsx-339977c73dded91d",children:(0,i.jsx)(u,{answer:N,loading:C||O,prediction:E})}),(0,i.jsxs)("form",{onSubmit:_,style:{display:"flex",gap:"0",borderRadius:"8px",overflow:"hidden",border:"1px solid var(--neon-cyan)"},className:"jsx-339977c73dded91d glow-box",children:[(0,i.jsxs)("div",{style:{padding:"18px 25px",background:"rgba(0, 243, 255, 0.1)",color:"var(--neon-cyan)",fontFamily:"Orbitron",fontWeight:"bold",display:"flex",alignItems:"center",gap:"10px"},className:"jsx-339977c73dded91d",children:[(0,i.jsx)("span",{className:"jsx-339977c73dded91d",children:"COMMAND"}),(0,i.jsx)("span",{style:{animation:"blink 1s infinite"},className:"jsx-339977c73dded91d",children:"_"})]}),(0,i.jsx)("input",{value:v,onChange:e=>b(e.target.value),placeholder:"Ask about engine health, predictions, maintenance...",style:{flex:1,background:"transparent",border:"none",color:"#fff",padding:"18px",outline:"none",fontFamily:"monospace",fontSize:"1.1rem"},className:"jsx-339977c73dded91d"}),(0,i.jsx)("button",{type:"submit",disabled:C||!(null==t?void 0:t.models_loaded),style:{background:"var(--neon-cyan)",color:"#000",border:"none",padding:"0 40px",fontFamily:"Orbitron",fontWeight:"bold",cursor:C?"wait":"pointer",letterSpacing:"2px",transition:"all 0.3s",opacity:(null==t?void 0:t.models_loaded)?1:.5},className:"jsx-339977c73dded91d",children:"EXECUTE"})]})]})]}),(0,i.jsx)(s(),{id:"339977c73dded91d",children:"@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes blink{0%,100%{opacity:1}50%{opacity:0}}@-moz-keyframes blink{0%,100%{opacity:1}50%{opacity:0}}@-o-keyframes blink{0%,100%{opacity:1}50%{opacity:0}}@keyframes blink{0%,100%{opacity:1}50%{opacity:0}}"})]})}}},function(e){e.O(0,[465,774,888,179],function(){return e(e.s=5728)}),_N_E=e.O()}]);